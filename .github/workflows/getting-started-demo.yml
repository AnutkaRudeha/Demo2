name: getting-started-demo

on:
  workflow_dispatch:
    inputs:
      logLevel:
        description: 'Log level'     
        required: true
        default: 'warning'
      tags:
        description: 'Test scenario tags' 

defaults:
  run:
    shell: bash
  
jobs:
  Run image:
    name: Build
    runs-on: amazonlinux:2
    container:
       image: anutkarudeha/petclinic_app_build:v2
    steps:
      - name: Git Checkout
        uses: actions/checkout@v1

      - name: build jar 
        run: |
             mkrir ./.github/artifact
             cd /
             mkdir build_java_project

             cd build_java_project
             chmod +x mvnw
             export JAVA_HOME="/usr/lib/jvm/java-17-amazon-corretto.x86_64"
             ./mvnw package

             cp /build_java_project/target/spring-petclinic-2.3.1.BUILD-SNAPSHOT.jar /artifact
        
       
